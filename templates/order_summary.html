<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Order Summary</title>

<style>
body{
    font-family: Arial, sans-serif;
    background:#f4f6f8;
    margin:0;
}

/* Container */
.container{
    max-width:1000px;
    margin:30px auto;
    background:#ffffff;
    padding:25px 30px;
    border-radius:14px;
    box-shadow:0 6px 20px rgba(0,0,0,0.08);
}

h2{
    text-align:center;
    margin:0 0 25px;
    color:#222;
}

/* Address section */
.address-box{
    background:#f8f9fa;
    padding:18px 20px;
    border-radius:10px;
    margin-bottom:30px;
    border-left:5px solid #0d6efd;
}

.address-box h3{
    margin:0 0 10px;
    color:#0d6efd;
}

.address-box p{
    margin:6px 0;
    font-size:14px;
    color:#333;
}

/* Table */
table{
    width:100%;
    border-collapse:collapse;
    margin-top:10px;
}

th{
    background:#0d6efd;
    color:#fff;
    padding:12px;
    font-size:14px;
}

td{
    padding:12px;
    border-bottom:1px solid #e0e0e0;
    font-size:14px;
    text-align:center;
}

.product-img{
    width:70px;
    height:70px;
    object-fit:cover;
    border-radius:8px;
}

/* Total */
.total{
    text-align:right;
    font-size:20px;
    font-weight:bold;
    margin-top:20px;
    color:#000;
}

/* Buttons */
.actions{
    display:flex;
    gap:20px;
    margin-top:30px;
}

.actions form{
    flex:1;
}

.actions button{
    width:100%;
    padding:14px;
    font-size:16px;
    border:none;
    border-radius:10px;
    cursor:pointer;
    transition:0.3s;
}

.back{
    background:#6c757d;
    color:#fff;
}

.pay{
    background:#198754;
    color:#fff;
}

.actions button:hover{
    opacity:0.9;
}

/* Empty cart */
.empty{
    text-align:center;
    font-size:18px;
    margin:40px 0;
    color:#666;
}
</style>
</head>

<body>

<div class="container">

    <h2>Order Summary</h2>

    <!-- DELIVERY ADDRESS -->
    <div class="address-box">
        <h3>Delivery Address</h3>
        <p><b>Name:</b> {{ address.name }}</p>
        <p><b>Phone:</b> {{ address.phone }}</p>
        <p>
            <b>Address:</b>
            {{ address.building }},
            {{ address.street }},
            {{ address.city }},
            {{ address.state }} - {{ address.pincode }}
        </p>
    </div>

    <!-- ORDER ITEMS -->
    {% if cart_items %}
    <table>
        <thead>
            <tr>
                <th>Image</th>
                <th>Product</th>
                <th>Price</th>
                <th>Qty</th>
                <th>Subtotal</th>
            </tr>
        </thead>
        <tbody>
        {% for item in cart_items %}
            <tr>
                <td>
                    <img src="{{ item.image }}" alt="{{ item.name }}" class="product-img">
                </td>
                <td>{{ item.name }}</td>
                <td>₹{{ "%.2f"|format(item.price) }}</td>
                <td>{{ item.quantity }}</td>
                <td>₹{{ "%.2f"|format(item.subtotal) }}</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>

    <div class="total">
        Total: ₹{{ "%.2f"|format(total) }}
    </div>

    {% else %}
        <div class="empty">Your cart is empty</div>
    {% endif %}

    <!-- ACTION BUTTONS -->
    <div class="actions">
        <form method="GET" action="{{ url_for('cart_page') }}">
            <button type="submit" class="back">Back to Cart</button>
        </form>

        <form method="POST" action="{{ url_for('payment') }}">
            <button type="submit" class="pay">Proceed to Payment</button>
        </form>
    </div>

</div>

</body>
</html>
